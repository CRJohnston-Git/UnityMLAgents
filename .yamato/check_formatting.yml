validate_format_win:
  name: Validate C# Format Win
  agent:
    type: Unity::VM
    image: cds-dv/win10-testing:latest
    flavor: b1.small
  commands:
    - setup.bat silent
    - git format all check
  triggers:
    cancel_old_ci: true
    expression: |
      (pull_request.target eq "master" OR
      pull_request.target match "release.+") AND
      NOT pull_request.draft AND
      (pull_request.changes.any match ""**/*.cs OR
      pull_request.changes.any match ".yamato/check_formatting.yml")
